<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>F1 Resource</title>
<style>
:root { --primary:#002b5c; --accent:#0b5fff; --muted:#6b7280; --card:#ffffff }
body { margin:0; font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial; background:#eef2f5; color:#0f1724; }
#loginScreen, #app { display:none; }
.centerBox { max-width:460px; margin:64px auto; padding:26px; background:var(--card); border-radius:12px; box-shadow:0 6px 30px rgba(2,6,23,0.08); }
input, select { width:100%; padding:12px; margin:8px 0; border-radius:8px; border:1px solid #d1d5db; font-size:15px; }
button { padding:10px 14px; background:var(--primary); border:none; color:white; font-size:15px; border-radius:8px; cursor:pointer; }
button.ghost{background:transparent;color:var(--primary);border:1px solid #d1d5db}
button.small{padding:6px 10px;font-size:13px}
#layout { display:flex; height:100vh; }
#sidebar { width:260px; background:var(--primary); color:white; padding:18px; transition:0.25s; overflow-y:auto; }
#sidebar.hidden { width:0; padding:0; overflow:hidden; }
#sidebar h2 { margin:0 0 12px;font-size:18px }
#sidebar a { display:block; color:white; padding:10px 0; cursor:pointer; font-size:15px; text-decoration:none }
#sidebar a:hover { text-decoration:underline }
#content { flex:1; padding:20px; overflow-y:auto; }
#toggleMenu { position:fixed; top:12px; left:12px; background:var(--primary); color:white; border:none; padding:10px; border-radius:8px; font-size:18px; z-index:50 }
.sectionCard { background:var(--card); padding:18px; border-radius:10px; margin-bottom:18px; box-shadow:0 6px 20px rgba(2,6,23,0.06); }
.listItem{padding:10px;border-radius:8px;border:1px solid #eef2ff;margin-top:8px;background:#fff;display:flex;justify-content:space-between;align-items:center}
.muted{color:var(--muted);font-size:13px}
textarea { width:100%; min-height:100px; padding:10px; border-radius:8px; border:1px solid #d1d5db }
@media (max-width:900px){ #layout{flex-direction:column} #sidebar{width:100%;position:fixed;left:0;top:0;transform:translateY(-150%)} #sidebar.show{transform:translateY(0)} #toggleMenu{position:fixed;left:8px;top:8px} }
</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginScreen" class="centerBox">
  <h2>F1 Resource Login</h2>
  <div class="muted">Authorized Fire Department Members Only</div>
  <input id="username" placeholder="Username">
  <input id="password" placeholder="Password" type="password">
  <div style="display:flex;gap:8px;margin-top:10px">
    <button onclick="login()">Login</button>
    <button class="ghost" onclick="alert('Contact county admin for access')">Help</button>
  </div>
  <div class="muted" style="margin-top:12px">Admin user: <strong>dlyboult</strong> / <strong>F1Resource</strong></div>
</div>

<!-- APP -->
<div id="app" aria-hidden="true">
  <button id="toggleMenu" onclick="toggleSidebar()">☰</button>
  <div id="layout">
    <aside id="sidebar">
      <h2>F1 Resource</h2>
      <div class="muted">Oswego County</div>
      <nav style="margin-top:16px">
        <a onclick="showPage('home')">Home</a>
        <a onclick="showPage('countyResources')">County Resources</a>
        <a onclick="showPage('countyCoordinators')">County Coordinators</a>
        <a onclick="showPage('fireAgencies')">Fire Agencies</a>
        <a onclick="showPage('emsAgencies')">EMS Agencies</a>
        <a onclick="showPage('hazmatSearch')">Hazardous Material Search</a>
        <a onclick="showPage('evSafety')">Electric Vehicle Safety</a>
        <a onclick="showPage('weather')">Weather</a>
      </nav>
      <hr style="border:none;border-top:1px solid #0b2540;margin:14px 0" />
      <div id="adminControls" style="display:none">
        <div style="font-weight:700;margin-bottom:6px">Admin</div>
        <a onclick="showPage('adminUsers')">Manage Users</a>
      </div>
      <div style="margin-top:14px" class="muted">Version 1.0 — Local mode</div>
    </aside>
    <main id="content">
      <section id="home" class="page">
        <div class="sectionCard">
          <h1>WELCOME</h1>
          <div class="muted">This is <strong>F1 Resource</strong>, your all inclusive application for Oswego County resources.</div>
        </div>
      </section>

      <section id="countyResources" class="page" style="display:none">
        <div class="sectionCard">
          <h2>County Resources</h2>
          <div id="resourceList"></div>
        </div>
      </section>

      <section id="countyCoordinators" class="page" style="display:none">
        <div class="sectionCard">
          <h2>County Coordinators</h2>
          <div id="coordinatorList"></div>
        </div>
      </section>

      <section id="fireAgencies" class="page" style="display:none">
        <div class="sectionCard">
          <h2>Fire Agencies</h2>
          <div id="fireList"></div>
        </div>
      </section>

      <section id="emsAgencies" class="page" style="display:none">
        <div class="sectionCard">
          <h2>EMS Agencies</h2>
          <div id="emsList"></div>
        </div>
      </section>

      <section id="hazmatSearch" class="page" style="display:none">
        <div class="sectionCard">
          <h2>Hazardous Material Search</h2>
          <input id="unInput" placeholder="UN/NA number">
          <button onclick="lookupUN()">Search</button>
          <div id="unResult"></div>
        </div>
      </section>

      <section id="evSafety" class="page" style="display:none">
        <div class="sectionCard">
          <h2>Electric Vehicle Safety</h2>
          <div class="muted">Preloaded rescue info included</div>
        </div>
      </section>

      <section id="weather" class="page" style="display:none">
        <div class="sectionCard">
          <h2>Weather</h2>
          <input id="weatherLocation" placeholder="Enter city or ZIP">
          <button onclick="getWeather()">Get Weather</button>
          <div id="weatherResult"></div>
        </div>
      </section>

      <section id="adminUsers" class="page" style="display:none">
        <div class="sectionCard">
          <h2>Manage Users & Roles</h2>
          <div id="userList"></div>
        </div>
      </section>

    </main>
  </div>
</div>

<script>
/* ------------------- Local Store ------------------- */
let store = {
  users: { dlyboult:{password:'F1Resource', role:'ADMIN'} },
  resources: [], coordinators: [], fireAgencies: [], emsAgencies: [],
  hazmatDB: {} // preload hazardous material info here
};

/* ------------------- Login ------------------- */
let currentUser = null;
function login(){
  const u = document.getElementById('username').value.trim().toLowerCase();
  const p = document.getElementById('password').value.trim();
  if(!u || !p){ alert('Enter username and password'); return; }
  const user = store.users[u];
  if(user && user.password===p){
    currentUser={username:u, role:user.role};
    document.getElementById('loginScreen').style.display='none';
    document.getElementById('app').style.display='block';
    if(user.role==='ADMIN') document.getElementById('adminControls').style.display='block';
    showPage('home'); renderAll();
  }else{ alert('Invalid credentials'); }
}

/* ------------------- Sidebar ------------------- */
function toggleSidebar(){
  const sb=document.getElementById('sidebar');
  sb.classList.toggle(window.innerWidth<=900?'show':'hidden');
}
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.style.display='none');
  const el=document.getElementById(id); if(el) el.style.display='block';
}

/* ------------------- Render Functions ------------------- */
function renderAll(){
  renderResources(); renderCoordinators(); renderFire(); renderEMS(); renderUsers();
}
function renderResources(){ const t=document.getElementById('resourceList'); t.innerHTML=''; store.resources.forEach(r=>{
  const div=document.createElement('div'); div.className='listItem';
  div.innerHTML=`<strong>${r.name}</strong>`;
  t.appendChild(div);
});}
function renderCoordinators(){ const t=document.getElementById('coordinatorList'); t.innerHTML=''; store.coordinators.forEach(c=>{
  const div=document.createElement('div'); div.className='listItem';
  div.innerHTML=`<strong>${c.name}</strong>`;
  t.appendChild(div);
});}
function renderFire(){ const t=document.getElementById('fireList'); t.innerHTML=''; store.fireAgencies.forEach(f=>{
  const div=document.createElement('div'); div.className='listItem';
  div.innerHTML=`<strong>${f.name}</strong>`;
  t.appendChild(div);
});}
function renderEMS(){ const t=document.getElementById('emsList'); t.innerHTML=''; store.emsAgencies.forEach(e=>{
  const div=document.createElement('div'); div.className='listItem';
  div.innerHTML=`<strong>${e.name}</strong>`;
  t.appendChild(div);
});}
function renderUsers(){ const t=document.getElementById('userList'); t.innerHTML=''; Object.keys(store.users).forEach(u=>{
  const div=document.createElement('div'); div.className='listItem';
  div.innerHTML=`<strong>${u}</strong> (${store.users[u].role})`;
  t.appendChild(div);
});}

/* ------------------- HazMat Search ------------------- */
function lookupUN(){
  const q=document.getElementById('unInput').value.trim();
  const t=document.getElementById('unResult'); t.innerHTML='';
  if(!q){ alert('Enter UN/NA number'); return; }
  const entry=store.hazmatDB[q];
  if(!entry){ t.innerHTML='Not found'; return; }
  t.innerHTML=`<strong>${entry.name}</strong><br>${entry.hazard_class || ''}<br>${entry.flammability || ''}`;
}

/* ------------------- Weather Example ------------------- */
function getWeather(){
  const loc=document.getElementById('weatherLocation').value.trim();
  const t=document.getElementById('weatherResult'); t.innerHTML='';
  if(!loc){ alert('Enter location'); return; }
  t.innerHTML='Weather data not yet connected — integrate API';
}

/* ------------------- Initialize ------------------- */
document.getElementById('loginScreen').style.display='block';
</script>

</body>
</html>
